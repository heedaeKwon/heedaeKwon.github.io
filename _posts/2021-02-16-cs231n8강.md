# Localization and Detection

###### 우선 이걸 정리하기 전에 알아야 할게 있다면 저는 아직도 이것이 뭔지 잘 이해를 못했습니다.
###### 어떻게든 말좀 짜 맞춰보겠습니다.

###### 우선 Localization입니다.  
###### Localization을 먼저 쉽게 설명하자면 이미지의 오브젝트를 바운딩하는 것입니다. 다음 사진처럼 말입니다.
###### 만약 요기서 Classification을 하면 cat이라고 분류를 하는 것입니다. 
###### localization의 output값은 (x,y,w,h)입니다. x,y값은 사진의 위치를 표시하고 w,h폭과 높이를 표시합니다
###### 쉽게 생각하면 xy평면에있는 직(or정)사각형이라 생각하면 될 것 같습니다.
###### 이제 localization을 을 하는 방법을 보겠습니다
###### 먼저 첫 번째는 Localization을 Regression으로 간주하는것입니다.
###### 요기서 Regression이 뭐냐면 오차의 합이 최소가 되도록 하게하는 작업입니다.
###### 그럼 첫번재는 Classification model을 학습시키거나 ,Alex,VGG등 기존 네트워크에서 다운로드를합니다
###### 다음은 기존에 것에서 Regression head를 붙입니다.
###### 3번째로는 Regression head를 오직 SGD와 L2 loss를 이용해 학습시킵니다.
###### 마지막으로 테스트타임 때 2개의 heads를 사용합니다.
###### Regression head에는 두가지 방법이있는데
###### 하나는 Class agnostic 이고 다른하나는 Class specific이다
###### Class agnostic은 말그대로 Class에 무관이므로 한개의 Box만 생성한다. 그러나 Class specific은 신경을 쓰기 떄문에
###### Box는 Class개수대로 생성이된다.
###### regression head는 conv layer 뒤쪽 또는 last FC layer 뒤쪽에 attach한다
###### 2번쨔는 Sliding Window이다
###### 말그대로 Window로 Sliding하는 것이다.
###### 요기에 대표는 Overfeat이있는데
###### 방법은 이 검은색 박스가 Sliding window를 할 것입니다. 이 때 image는 sliding window보다 커야합니다.
###### 이제 이 검은색Box로 Regression head를 이용하여서 Box의 좌표를 구해서 빨간색의 bounding box를 만들게 되고
###### Classification head에 의해서 고양이로 분류하는 score를 구합니다.
###### 요기서는 4번만 합니다. 이렇게 구한 4개의 bounding box와 score를 merge하여 단일 bounding box와 score가 최종값입니다.
###### 근데 실제는 4번이아니라 엄청 많이 Sliding window를 사용합니다. 이것을 bounding box로 연산을 하면 연산에 드는 비용이 너무 크게 되는 상황이 생깁니다.
###### 그래서 FC -> CONV로 바꿔주는것입니다.
###### 요기부분을 저가 잘 이해를 한 것인지 모르겠는데 저가 이해한대로 한 번 설명을 해보겠습니다.
###### 요기 FC를 보면 4096x1의 FC가있습니다. 이것을 1x1 CONV를 지나쳐서 1024가되었는데 이렇게 될려면 
###### 4096이 depth가 되어야합니다. 그래서 표현을하면 1x1x4096으로 FC를 CONV로 간주합니다. 그럼 1x1x4096의 conv layer를 1024개 하면 1x1x1024가 됩니다.
###### 7강에서 1x1의 의미는 depth를 변화시켜 계산량 줄이는 것이라 설명했습니다. 이와같이 계산량을 줄여서 효율적으로 계산한다는 의미인거 같습니다.

##### 자 다음은 Detection입니다. 저가 진짜 요기를 많이 봤는데 어렵기도 하고 그러니 또 강의를 듣거나 검색해서 설명을 볼 때 뇌를 끄고 보고 들은거 같습니다. 그래서 제대로 이해를 못했습니다.
###### 우선 Detection을 Localization처럼 Regression처럼 간주해도 되냐? 라 하면 아니다라 대답이나옵니다
###### 이유는 Detection은 object마다 이미지에따라 output개수가 달라지기 때문에 적합하지 않습니다.
###### Detection은 그래서 Classification으로 간주합니다 다음사진처럼 검은색 박스안에 고양이는 있고 강아지는 없기때문에
###### CAT은 YES 가 나왔고 DOG는 NO가 나왔습니다.
###### 근데 Classificiation기반의 Detection의 문제점은 object를 찾기위해 여러개의 window와 위치를 시도해야합니다
###### 그래도 이 방법으로 하는게 또 해결책입니다. 단! CNN같은 경우는 무겁기때문에 이것은 피하는 것이 좋습니다.
###### 그러면 CNN의 경우는 어떻게해야하냐? 하면 바로 region proposal 입니다. 이게 무겁기 때문에 최대한 필요없는 부분을 보지않고
###### 진짜 알짜배기같은 의심되는 지역만 보라는 것입니다.
###### 이렇게 되면 좋은점이 이 방법은 class다 집어치우고 그냥 대충 object가 드갈 거 같은 부분만 찾습니다 그러면 
###### 정확도는 무관하게 엄청 빠르게 실행이 됩니다.
###### region proposal 의 방법중 하나는 Selective Search가 있습니다.
